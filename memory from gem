Great call! Without persistent memory, your app is essentially a whiteboard that gets erased every time you look away. Adding localStorage allows your iPhone to save the data in its internal browser storage, so your notes will be there even after you close Koder or restart your phone.
To get this working, we need to update the JavaScript section. Scroll to the bottom of your file and replace the existing <script> block with this upgraded version:
The Persistent Memory Script
    // --- 1. APP STATE & STORAGE ---
    // This loads your saved notes immediately when the app opens
    let notes = JSON.parse(localStorage.getItem('glass_notes')) || [];
    let currentTool = 'pen';
    let currentColor = '#000000';
    let isDrawing = false;

    // --- 2. NAVIGATION & RENDERING ---
    function switchTab(tabId) {
        document.querySelectorAll('.view-page').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        
        document.getElementById(tabId + '-view').classList.add('active');
        
        // Update nav icons
        const buttons = document.querySelectorAll('.nav-item');
        if(tabId === 'home') { buttons[0].classList.add('active'); renderNotes(); }
        if(tabId === 'note') buttons[1].classList.add('active');
        if(tabId === 'draw') { buttons[2].classList.add('active'); resizeCanvas(); }
        if(tabId === 'camera') buttons[3].classList.add('active');
    }

    // This function draws your saved notes onto the Home Screen
    function renderNotes() {
        const grid = document.querySelector('.note-grid');
        grid.innerHTML = ''; // Clear current grid

        notes.forEach((note, index) => {
            const card = document.createElement('div');
            card.className = 'glass-panel note-card';
            
            // If it's a drawing, show a "Sketch" label; otherwise show content
            const preview = note.type === 'sketch' ? 'ðŸŽ¨ Drawing' : note.content.substring(0, 30) + '...';
            
            card.innerHTML = `
                <div onclick="deleteNote(${index})" style="position:absolute; top:10px; right:10px; font-size:12px; opacity:0.5;">âœ•</div>
                <div onclick="openNote(${index})">
                    <h3 style="margin:0 0 5px 0">${note.title || 'Untitled'}</h3>
                    <small style="color:var(--text-light)">${preview}</small>
                </div>
                <small>${note.date}</small>
            `;
            grid.appendChild(card);
        });
    }

    // --- 3. SAVING LOGIC ---
    function saveTextNote() {
        const title = document.querySelector('#note-view input').value;
        const content = document.querySelector('#note-view textarea').value;

        if(!title && !content) return; // Don't save empty notes

        const newNote = {
            type: 'text',
            title: title || 'New Note',
            content: content,
            date: new Date().toLocaleDateString()
        };

        notes.unshift(newNote); // Put newest at the top
        syncStorage();
        switchTab('home');
        
        // Clear inputs for next time
        document.querySelector('#note-view input').value = '';
        document.querySelector('#note-view textarea').value = '';
    }

    function saveDrawing() {
        const canvas = document.getElementById('main-canvas');
        const dataURL = canvas.toDataURL(); // Converts drawing to a "photo" string

        const newSketch = {
            type: 'sketch',
            title: 'Sketch ' + (notes.length + 1),
            content: dataURL,
            date: new Date().toLocaleDateString()
        };

        notes.unshift(newSketch);
        syncStorage();
        alert("Sketch Saved!");
        switchTab('home');
        clearCanvas();
    }

    function deleteNote(index) {
        if(confirm("Delete this note?")) {
            notes.splice(index, 1);
            syncStorage();
            renderNotes();
        }
    }

    function syncStorage() {
        localStorage.setItem('glass_notes', JSON.stringify(notes));
    }

    // --- 4. DRAWING ENGINE (RE-INITIALIZED) ---
    const canvas = document.getElementById('main-canvas');
    const ctx = canvas.getContext('2d');
    const container = document.getElementById('canvas-container');
    let startX, startY, snapshot;

    function resizeCanvas() {
        canvas.width = container.offsetWidth;
        canvas.height = container.offsetHeight;
    }

    // ... (Keep the rest of your drawing events/logic from the previous code) ...

    function clearCanvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // Initialize the app
    window.onload = () => {
        renderNotes();
        switchTab('home');
    };

Important HTML Tweaks
For the "Save" buttons to actually trigger these functions, make sure your HTML buttons look like this:
 * In Note View: Add a save button at the top:
   <button class="btn btn-primary" onclick="saveTextNote()">Save Note</button>
 * In Draw View: Find the Save button (or add one) and ensure it says:
   <button onclick="saveDrawing()">Save Sketch</button>
How it works:
 * JSON.stringify: This turns your list of notes into a long string of text that your phone can store.
 * DataURL: When you save a sketch, it converts the actual pixels of the canvas into a very long text code (Base64) so it can be saved just like a text note.
 * Unshift: This ensures that every time you save a new note, it appears at the top of your home screen.
Would you like me to add a "Search Bar" to your home screen so you can filter through your saved notes as the list gets longer?
